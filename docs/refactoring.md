# 리팩토링

## Layered Architecture 도입?
- 현재 미션에 Layered Architecture, 기본 레이어를 도입?
- 기본 레이어: Presentation Layer(view, controller) -> Business Layer(service) -> Implement Layer -> Data Access Layer
  - Presentation 계층은 뼈대가 존재, 현재 구현한 `Controller`는 Presentation 계층 코드가 아님
  - Business 계층을 도입할 것인가, 현재 구조는 domain에서 핵심 로직들을 처리하고 `Controller`가 service 역할을 하는 중
  - 데이터 접근 계층은 필요 없음
- 계층형 아키텍처에 대한 학습이 필요
  - MVC 포함
- 현재 `OutputView`가 핵심 도메인인 `PositiveNumber`를 알고 있음 -> DTO 필요

## 개념과 격벽
- 현재의 개념과 격벽에 대한 구조도를 한번 그려 볼 필요가 있음
- 덧셈은 누구의 책임인가? 별도의 계산기가 책임을 가져야 하나? 양수들이 서로를 더해야 하나?
- 구분자를 분리해 1급 개념으로 올릴 것인가? 기본 구분자(1급 개념), 커스텀 구분자(1급 개념)
- 입력을 분리하는 것은 누구의 책임인가? 구분자 자체에서 진행해야 하나? 별도의 분리기 개념이 필요하나?

## 리팩토링 필요 판단 근거
- 작성한 코드에 대한 근거가 존재하는가?
  - 왜 생성자 대신 정적 팩토리 메서드를 썼는지 근거가 있나?
  - 왜 `enum`로 관리하지 않고 메서드 내 상수로 쓰고 있나?
  - 메서드 이름만으로 어떤 기능을 하는지 충분하나?
- 문자열과 숫자는 무조건 상수로 만들어야하나?
  - 상수일 필요가 있나?
  - 상수로 만드는 이유는? -> 상수로 만들지 않아도 어떤 역할을 하는지 드러나나?
- 도메인 로직이 외부로 유출되고 있는가?
  - 테스트 코드, 도메인 계층 외부로 도메인 로직이 유출되고 있는지 확인한다
  - 위 계층이 도메인을 몰라야 한다
- 변경을 예상하지 않는다. 그저 변경이 발생하면 수용할 수 있는 유연함을 담는다
