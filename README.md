## 1. ✖️➕java-calculator-precourse 기능 목록➗➖
---

### ▪️ 입력

- [x] `덧셈할 문자열을 입력해 주세요.` 출력 후 문자열 입력받기

### ▪ 계산기

- [x] 입력받은 문자열이 비어있는 경우 0 반환
- [x] 각 숫자의 합 구하기
- 예외처리🚨: `IllegalArgumentException` 반환 후 종료시키기
    - [x] `음수` 또는 `0`으로 구성된 숫자일 경우
        ```
        예시 : -11, 1, 2 || 0, 1, 2
        ```

### ▪ 숫자 추출기

- [x] 문자열 형식의 숫자를 숫자로 파싱
- 예외처리🚨: `IllegalArgumentException` 반환 후 종료시키기
    - [x] 숫자가 아닌 문자열이 들어있는 경우
        ```
        예시 : 1, 4 ; 5 || //&\n1&2*3
        ```

### ▪ 문자열 분리기

- [x] 문자열에서 커스텀구분자 형식 제거하기
- [x] 구분자로 문자열 분리하기

### ▪ 커스텀구분자 추출기

- [x] 커스텀구분자 있는지 없는지 확인하기
- [x] `"//"`와 `"\n"` 사이에 위치하는 문자를 커스텀구분자로 지정하기
- 예외처리🚨: `IllegalArgumentException` 반환 후 종료시키기
    - [x] 문자열 앞부분이 `"//"`로 시작하지 않을 경우
      ```
        예시 : /%\n1%2%3, \\^\n1^2^3, /;\n1;2;3
      ```
    - [x] 커스텀구분자 형식이 `"\n"`로 끝나지 않을 경우
      ```
        예시 : //|\\t1|2|3, //|1|2|3, //|n1|2|3, //|\\1|2|3
      ```
    - [x] 커스텀구분자가 빈 문자열 인 경우
      ```
        예시 : //\n123, // \n1 2 3
      ```
    - [x] 커스텀구분자가 숫자인 경우
      ```
      예시 : //1\\n21314, //-1\\n4-15-16, //0\\n70809
      ```

### ▪ 출력

- [x] 각 숫자의 합을 `결과 : ${합}` 형식에 맞게 출력하기

## 2. ✅ 과제 제출 전 확인 사항 ✅
---

- [x] `java -version` 명령어로 자바 버전이 21인지 확인
- [x] `./gradlew clean test` 명령어로 테스트 모두 통과되는지 확인
- [x] 요구 사항에 명시된 출력 형식을 지켰는지 확인
- [x] 자바 코드 컨벤션 지켰는지 확인

## 3. 💡 고민했던 부분들 💡
---

### 1. 메세지를 포함한 InputView 클래스?

* 처음에는 `InputView`가 입력만 담당하고,
  메시지 출력은 별도로 처리해야 책임이 명확해진다고 생각했습니다.
  하지만 시도한 결과 아래 코드의 결과로 컨트롤러에서 메시지까지 관리하게 되어
  오히려 책임 분리를 명확하게 하지 못했고 직관성도 떨어졌습니다.
  또한 추가된 기능 없이 기존 코드를 단순히 감싸기만 했습니다.

변경 전⬇️

```java
import camp.nextstep.edu.missionutils.Console;

public class InputView {

    public String readInput() {
        return Console.readLine().trim();
    }
}
```

* `InputView`에 메세지를 포함하게끔 리팩토링 후에는 다음과 같은 이점을 얻을 수 있었습니다.
    * **명확한 책임 분리**: 입력과 관련된 사용자 인터페이스(UI) 기능은 모두 InputView에서 관리되므로 책임이 명확히 분리됩니다.
    * **컨트롤러 단순화**: 컨트롤러는 오직 비즈니스 로직에 집중할 수 있어 코드의 유지보수성과 가독성이 향상될 수 있었습니다.
    * **직관성 향상**: InputView에서 입력과 출력을 함께 관리함으로써, 그 흐름이 더 직관적이고 자연스럽게 유지됩니다.

변경 후⬇️

```java
import camp.nextstep.edu.missionutils.Console;

public class InputView {

    private static final String INPUT_MESSAGE = "덧셈할 문자열을 입력해 주세요.";

    public String readStringToAdd() {
        System.out.println(INPUT_MESSAGE);
        return Console.readLine().trim();
    }
}
```

### 2. service 레이어 도입?

* 도메인 클래스들간의 의존성을 줄이고자 service레이어를 도입하였고, 다음과 같은 이점을 얻을 수 있었습니다.
    * **책임 분리**:
        * `Calculator`는 단순히 숫자들의 합을 계산하는 역할만을 담당하고, 문자열 처리나 숫자 추출과 같은 다른 로직을 신경 쓰지 않습니다.
        * `NumberExtractor`는 문자열에서 숫자를 추출하는 역할만 담당하고, 계산에 대한 책임은 없습니다.
        * `CalculatorService`에서는 계산 로직만 담당합니다.
    * **추상화**: 서비스 레이어 도입으로 컨트롤러는 서비스의 메서드만 호출하면 값을 얻을 수 있고, 로직의 세부 구현을 몰라도 되므로 추상화를 이룰 수 있었습니다.

### 3. Validator 클래스 - static vs Instance?

* static 방식 도입 이유
    * 단순히 검증하는 클래스이므로 상태 관리가 필요없다고 생각하였습니다.
    * 이후 상태를 추가할 가능성 및 확장할 가능성이 없다고 생각하였습니다.
    * 그렇다면 객체를 생성하는 것이 불필요하다고 판단하였기 때문에 static 방식으로 validator를 처리하였습니다.

* InputView & OutputView 클래스도 상태 관리 필요없지 않나요?
    * 현재는 단순히 콘솔에서 입력받고, 결과를 출력하고 있지만 향후 파일, 네트워크 통신으로 확장될 가능성이 있다고 판단했습니다.
    * 그렇다면 인터페이스 등을 활용할 수 있는 인스턴스 방식이 더 장점이 있다고 생각하여 InputView & OutputView는 static방식을 도입하지 않았습니다.
