# java-calculator-precourse

# 문자열 계산기

## 🥇 1주차 미션 목표

- **TDD를 위해 테스트를 꼼꼼히 작성하기**
- **자바 코딩 스타일을 적용하며 준수하기**

## 📖 기능 명세서

### 📌 구현할 기능 목록

1. **입력 메시지 출력 기능**
    - 사용자에게 문자열 입력을 요청하는 메시지를 출력한다.
    - 예: `"덧셈할 문자열을 입력해 주세요."`


2. **입력 받는 기능**
    - 콘솔을 통해 사용자가 입력한 문자열을 받는다.


3. **입력 값 검증 기능**
    - 입력이 `null`이면 `IllegalArgumentException`을 발생시킨다.
    - 입력이 빈 문자열 `""`이면 `0`을 반환하고 프로그램을 종료한다.


4. **문자열 전처리 기능**
    - 입력 문자열에서 모든 공백을 제거한다.


5. **커스텀 구분자 처리 기능**
    - 입력 문자열에서 커스텀 구분자를 추출하고 검증한다.
    - 문자열이 "//"로 시작하고 "\n"을 포함하면 커스텀 구분자를 추출한다.
    - 커스텀 구분자의 형식이 올바르지 않으면 IllegalArgumentException을 발생시킨다.
        - **커스텀 구분자는 한 글자만 허용된다.**
        - **커스텀 구분자가 여러 개일 수 없다.**
    - 커스텀 구분자가 추출되면 구분자에 추가한다.


6. **문자열 분리 기능**
    - 구분자(쉼표 `,`, 콜론 `:`, 커스텀 구분자 )를 사용하여 문자열을 분리한다.
    - 구분자 사이에 숫자가 없을 경우 IllegalArgumentException을 발생시킨다.


7. **숫자 변환 및 합산 기능**
    - 분리된 문자열을 숫자로 변환한다.
        - 빈 문자열이거나 숫자로 변환할 수 없는 경우 `IllegalArgumentException`을 발생시킨다.
        - 음수일 경우 `IllegalArgumentException`을 발생시킨다.
    - 변환된 숫자를 모두 합산한다.


8. **결과 출력 기능**
    - 합산된 결과를 콘솔에 출력한다.
    - 예: `"결과: 6"`


9. **리팩토링**
    - **클린 코드로 개선**
        - 가독성과 유지보수성을 높이기 위해 코드를 개선한다.
    - **코드 중복 제거 및 구조 개선**
        - 중복된 코드를 제거하고, 효율적인 코드 구조를 만든다.
    - **클래스 및 메서드 분리**
        - 역할에 따라 클래스를 분리하고, 메서드를 적절하게 분할한다.
    - **객체지향 설계 원칙 적용**
        - SOLID 원칙 등을 적용하여 객체지향적으로 코드를 설계한다.


10. **요구 사항에 기재되지 않은 상황**
    - **공백이 포함된 경우 공백을 제거하고 처리한다.**
    - **커스텀 구분자는 한 글자 이상의 문자열로 지정할 수 없다.**
    - **커스텀 구분자가 여러 개일 수 없다.**
    - **구분자 사이에 숫자가 없을 경우 `IllegalArgumentException`을 발생시킨다.**

    
## 🚀 프로그램 실행 흐름

1. **입력 메시지 출력**
    - 프로그램은 `"덧셈할 문자열을 입력해 주세요."`라는 메시지를 출력한다.


2. **사용자 입력 받기**
    - 프로그램은 콘솔을 통해 문자열을 입력받는다.


3. **입력 값 기본 검증**
    - 입력이 `null`이면 `IllegalArgumentException`을 발생시킨다.
    - 입력이 빈 문자열 `""`이면 `0`을 반환하고 프로그램을 종료한다.


4. **문자열 전처리**
    - 입력 문자열에서 모든 공백을 제거한다.


5. **커스텀 구분자 처리**
    - 입력 문자열에서 커스텀 구분자를 추출하고 형식을 검증한다.
        - `"//"`와 `"\\n"` 사이의 내용을 커스텀 구분자로 사용한다.
        - **형식이 올바르지 않으면 `IllegalArgumentException`을 발생시킨다.**


6. **문자열 분리**
    - 구분자를 기준으로 문자열을 숫자 문자열 배열로 분리한다.
        - 기본 구분자: 쉼표(`,`), 콜론(`:`)
        - 커스텀 구분자: 추출된 경우 사용
    - **구분자 사이에 숫자가 없는 경우 `IllegalArgumentException`을 발생시킨다.**


7. **숫자 변환 및 검증**
    - 분리된 문자열을 순회하며 숫자로 변환하고 검증한다.
        - 숫자로 변환할 수 없는 경우 `IllegalArgumentException`을 발생시킨다.
        - 음수일 경우 `IllegalArgumentException`을 발생시킨다.


8. **합산**
    - 변환된 숫자를 모두 합산한다.


9. **결과 출력**
    - 합산된 결과를 콘솔에 출력한다.
    - 출력 예시: `"결과: 6"`


## ❗ 예외 처리

- **입력 값이 `null`인 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **입력 값이 빈 문자열 `""`인 경우**
    - 결과는 `0`을 반환하고 프로그램을 종료한다.


- **숫자가 아닌 문자가 포함된 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **음수가 포함된 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **커스텀 구분자 지정이 올바르지 않은 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **입력에 구분자만 있고 숫자가 없는 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **숫자 사이에 이중 구분자가 포함된 경우**
    - `IllegalArgumentException`을 발생시킨다.


- **입력 문자열에 숫자가 없는 경우**
    - `IllegalArgumentException`을 발생시킨다.

## ✅ 테스트 케이스

### 1. `DelimiterTest`

1. **올바른 커스텀 구분자를 생성한다.**
    - 입력: `"//;\\n1;2;3"`
    - 결과: `["1", "2", "3"]`

2. **커스텀 구분자에 숫자가 포함될 경우 예외를 발생시킨다.**
    - 입력: `"1"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"커스텀 구분자에 숫자가 포함될 수 없습니다."`

3. **잘못된 구분자를 사용한 경우 예외를 발생시킨다.**
    - 입력: `"//!\\1!2!3"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"커스텀 구분자가 올바르게 입력되지 않았습니다."`

4. **커스텀 구분자가 두 글자 이상인 경우 예외를 발생시킨다.**
    - 입력: `"//!!\\n1!!2!!3"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"커스텀 구분자는 한 글자여야 합니다."`

5. **커스텀 구분자가 특수문자인 경우에도 동작한다.**
    - 입력: `"."`
    - 결과: 정규 표현식: `"\\."`

6. **비어있는 커스텀 구분자를 사용한 경우 예외를 발생시킨다.**
    - 입력: `"//\\n1"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"커스텀 구분자는 비어 있을 수 없습니다."`

---

### 2. `NumberTest`

1. **올바른 숫자를 생성한다.**
    - 입력: `"5"`
    - 결과: `5`

2. **음수를 입력하면 예외를 발생시킨다.**
    - 입력: `"-1"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"음수는 허용되지 않습니다."`

3. **숫자가 아닌 문자를 입력하면 예외를 발생시킨다.**
    - 입력: `"a"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"숫자가 아닌 값이 포함되어 있습니다."`

---

### 3. `CalculatorServiceTest`

1. **null 입력 시 예외를 발생시킨다.**
    - 입력: `null`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"입력 값이 없습니다."`

2. **빈 문자열 입력 시 0을 반환한다.**
    - 입력: `""`
    - 결과: `0`

3. **기본 구분자를 사용한 합산 결과를 반환한다.**
    - 입력: `"1,2:3"`
    - 결과: `6`

4. **커스텀 구분자를 사용한 합산 결과를 반환한다.**
    - 입력: `"//;\\n1;2;3"`
    - 결과: `6`

5. **음수가 포함된 경우 예외를 발생시킨다.**
    - 입력: `"1,-2,3"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"음수는 허용되지 않습니다."`

6. **숫자가 아닌 문자가 포함된 경우 예외를 발생시킨다.**
    - 입력: `"1,a,3"`
    - 결과: `IllegalArgumentException` 발생, 메시지: `"숫자가 아닌 값이 포함되어 있습니다."`

---

### 4. `ViewTest`

1. **입력 값을 반환한다.**
    - 입력: `"입력값"`
    - 결과: `"입력값"`

2. **입력 메시지를 출력한다.**
    - 결과: `"덧셈할 문자열을 입력해 주세요.\n"`

3. **결과를 출력한다.**
    - 입력: `6`
    - 결과: `"결과 : 6\n"`

