# java-calculator-precourse

## 문자열 덧셈 계산기

### 기능 요구 사항

1. 쉼표(,) 또는 콜론(:)을 구분자로 가지는 문자열을 전달할 경우, 각 숫자를 구분하고 그 합을 계산.
    - 예: "" => 0, "1,2" => 3, "1,2:3" => 6
2. 커스텀 구분자를 지정할 수 있다. 커스텀 구분자는 "//"와 "\n" 사이에 위치하는 문자.
    - 예: "//;\n1;2;3" => 커스텀 구분자는 세미콜론(;)이며, 결과 값은 6이 반환.
3. 입력이 잘못되었을 경우 `IllegalArgumentException`을 발생시키고 프로그램은 종료.
    - 예외 조건: 음수, 구분자 오류, null 입력 등

### 입력

- 구분자와 양수로 구성된 문자열
    - 0은 양수에 포함되지 않으며, 0이 입력될 경우 예외를 발생시킴

### 출력

- 덧셈 결과 (예: 6)

---

### 기능 목록

1. **입력 값 파싱 기능** (InputParser)
    - 사용자로부터 입력을 받는다.
    - 입력된 문자열을 쉼표(,) 또는 콜론(:)을 기준으로 분리한다.
    - 커스텀 구분자가 있는 경우 "//"와 "\n" 사이에 위치하는 구분자를 사용하여 문자열을 분리한다.
    - 구분자로 분리된 문자열에서 숫자를 추출한다.
    - **빈 문자열**일 경우 **0**을 반환한다.


2. **덧셈 계산 기능** (StringCalculator)
    - 분리된 숫자 문자열을 더하여 합계를 계산한다.
    - 문자열이 비어 있으면 0을 반환한다.
    - 입력된 숫자가 음수일 경우 예외를 발생시킨다.


3. **예외 처리 기능**
    - 음수가 포함된 경우 `IllegalArgumentException`을 발생시킨다.
    - 올바르지 않은 구분자가 있을 경우 예외를 발생시킨다.
    - null 입력이 있을 경우 `IllegalArgumentException`을 발생시킨다.


4. **결과 출력 기능**
    - 계산된 결과를 출력한다.

---

### 클래스 설계

1. **InputParser 클래스**
    - 입력 문자열을 구분자에 따라 분리하고 숫자 값을 추출하는 역할.
    - 커스텀 구분자를 처리하는 기능을 포함한다.


2. **StringCalculator 클래스**
    - `InputParser`로부터 전달된 숫자 배열을 더하는 역할.
    - 예외 처리를 담당힌다. (음수나 null 입력, 올바르지 않은 입력)


3. **Application 클래스**
    - 메인 클래스.
    - 프로그램의 시작점이고 `InputParser`와 `StringCalculator`를 호출한다.

---

### 추가 기능

- 커스텀 구분자가 올바르게 처리되지 않는 경우 예외처리.
    - 커스텀 구분자가 빈 문자열일 경우 IllegalArgumentException을 발생시킴.
    - 여러 문자로 된 커스텀 구분자를 허용하되, 기본 구분자와 혼용 가능.
    - 잘못된 형식의 구분자가 올 경우 예외를 발생시킴.


- 공백 처리 기능
    - 숫자와 구분자 사이의 공백 제거, 계산이 정상적으로 되도록 함.
    - 입력값 앞뒤 공백도 자동으로 제거.


- 잘못 입력값에 대한 예외처리
    - 숫자가 아닌 값이 포함된 경우 IllegalArgumentException을 발생시킴.
    - 구분자가 연속해서 나오는 경우, 예를 들어 "1,,2" 같은 잘못된 입력 형식에 대해 예외 발생.


- 불필요한 문자열 조작을 줄여 성능 최적화.

---

### 테스트

- **단위 테스트**: 각 기능별로 테스트를 작성하여 개별 기능이 정상적으로 작동하는지 검증한다.
    - 입력 문자열 파싱 테스트
    - 덧셈 계산 테스트
    - 예외 처리 테스트
    - 커스텀 구분자와 기본 구분자 혼용 테스트


- **통합 테스트**: 전체 기능이 통합된 형태로 테스트한다.
    - 사용자의 입력에 따라 결과가 올바르게 출력되는지 테스트한다.

### 구현 방식

- **int[] 배열**을 사용하여 메모리 사용량을 줄이고 성능을 최적화.
    - **int[] 배열**은 각 요소가 4byte.
    - **메모리 효율성**을 높이기 위해 **배열**을 선택.


- **split() 메서드**를 활용하여 자릿수를 처리하는 과정을 단순화, **자릿수 계산 방식**을 최적화하여 불필요한 문자열 처리를 줄임.
    - 배열을 순회하면서 **자릿수 계산 방식**을 적용하였고, 이에 따라 메모리 접근과 자릿수 연산이 효율적으로 진행됨.


- 문자열이 매우 길어질 경우를 대비해 **long 타입을 고려할 수 있지만**, **일반적인 상황에서 `int` 타입으로 충분하다는 판단** 하에 **int[] 배열**을 사용하여 구현.


- 입력값의 앞뒤 및 구분자 사이의 불필요한 공백을 제거하여 계산이 정확하게 이루어지도록 최적화.


- 연속된 구분자 (예: ,,,, :::)나 숫자가 아닌 값이 포함된 경우 예외처리를 발생시켜 프로그램 종료.
    - 구분자가 두 번 이상 반복 될 때도 예외 발생 처리.

- **0은 양수로 취급하지 않으며** ,0이 포함될 경우 예외처리로 프로그램 종료