# java-calculator-precourse

## ✅ 기능 구현 목록

### 1. 사용자 입력 처리

#### 1.1. 사용자 입력 받기

- [x] 사용자로부터 입력을 받는다.

#### 1.2. 입력을 검증하기 (1차 검증)

- [x] 입력이 null, ""일 경우 0을 반환한다.

#### 1.3. 예외 발생시키기

- [x] 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시킨다.
- [x] 잘못된 값 예시: "       ", "1 2 3 4 5", "12345 "

### 2. 문자열 분리하고 검증하기

#### 2.1. 커스텀 구분자가 있는지 확인한다. (2차 검증)

- [x] 길이가 5보다 작다면, 커스텀 구분자가 없다.
- [x] 구분자가 존재하는 형식인지 확인한다.
    - [x] `//`로 시작하며, `\n`으로 끝난다면, 하나의 구분자를 반환한다.
- [x] 구분자를 검증한다.
    - [x] 숫자일 수 없다.

#### 2.2. 구분자 리스트를 만든다.

- [x] 커스텀 구분자가 없다면, default separator 리스트를 반환한다.
    - [x] default separator : 쉼표(,)와 콜론(:)을 포함하는 Set
- [x] 커스텀 구분자가 있다면, default separator 리스트에 커스텀 구분자를 추가한다.

#### 2.3. 문자열에서 커스텀 구분자 형식을 제거한다.

- [x] 커스텀 구분자가 없다면, 기존의 문자열을 반환한다.
- [x] 커스텀 구분자가 있다면, 커스텀 구분자 형식을 제거한 문자열을 반환한다.

#### 2.4. 남은 문자열을 커스텀 구분자를 기준으로 자르고, 리스트로 만든다.

- [x] 남은 문자열을 커스텀 구분자를 기준으로 자르고, 리스트로 반환한다.

### 3. 리스트의 각 요소를 검증하고, 숫자 리스트로 변환한다.

- [x] 숫자만 존재해야 한다. 이외의 문자열이 등장해서는 안된다.
- [x] long 범위를 벗어나는 숫자는 올 수 없다.

### 4. 숫자 더하기

- [x] 숫자의 합을 구한다.

### 5. 출력하기

- [x] 결과를 콘솔에 출력한다.

<br>

## 🥕 문제 요구사항 구체화

- 커스텀 구분자는 숫자일 수 없다.
    - `//3\n12345` -> 예외
    - `//0\n12345` -> 예외

- 커스텀 구분자는 한 글자이다.
    - `//*\n12345` -> `*`
    - `//*+\n123` -> 예외
    - `//--\n123` -> 예외

- 구분자는 중복으로 등장할 수 있다.
    - `12,:345` -> `12`, `345`
    - `//+\n123+:4,5` -> `123`, `4`, `5`

- 공백은 잘못된 입력이다.
    - `12345 ` -> 예외
    - ` ` -> 예외
    - `              ` -> 예외
    - `1 2 3 4 5` -> 예외

- 구분자를 기준으로 자른 숫자는 Integer 범위를 초과할 수 있다.
    - Long 타입으로 선언

- 숫자에 0이 붙을 수 있다.
    - `012` -> `12`
    - `0000001234` -> `1234`
    - `000890` -> `890`

<br>

## 🎁 설계

```
src
└── main
└── java
└── calculator
├── common
│   ├── constant
│   └── exception
├── domain
├── infrastructure
└── interfaces
├── controller
└── view
└── Application
```

### 1. domain

- `CalculatorService`
    - 도메인의 동작을 한 눈에 볼 수 있도록 정의했습니다.
- `Number`: Long 타입 숫자를 값으로 보유합니다.
- `Separators`
    - Set<Character> separators: 구분자를 Set에 저장합니다. 커스텀 구분자가 ':', ',' 일 경우 중복이 발생하지 않도록 Set을 사용했습니다.
    - String delimiter:  split 메서드에 넣을 정규표현식을 String 타입 변수에 저장합니다.

### 2. exception

- 각종 예외를 정의했습니다.
- 최종적으로 IllegalArgumentException을 던지는 것이 요구사항에 정의되어 있기 때문에, try-catch로 잡아 IllegalArgumentException을 던졌습니다.

### 3. infrastructure

- `InputParser`: 문자열을 자르고 구분자를 만드는 기능을 수행합니다.
- `SplitStrValidator`: 구분자를 기준으로 자른 문자열이 올바른지 검증합니다.
- `SumCalculator`: 숫자의 합을 구합니다.

### 4. interfaces

- `CalculatorController`: 사용자 입력을 1차적으로 검증하고, Service의 메서드를 실행시킵니다.
- `InputView`: 사용자의 입력을 받습니다.
- `OutputView`: 콘솔에 결과를 출력합니다.

### 6. Application.class

- 각 클래스에 의존성을 주입하고, 컨트롤러를 통해 서비스를 동작시킵니다.

<br>