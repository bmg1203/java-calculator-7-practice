# 🛸 문자열 덧셈 계산기

## ⭕ 기능 요구사항

**문자열 덧셈 계산기 구현하기**

- 사용자가 입력한 문자열에서 숫자 합산하는 기능 제공
- **구분자 존재**
    - 기본 구분자 : 쉼표(,) 또는 콜론(:)
    - 커스텀 구분자 : 문자열 앞 부분에 `//` 와 `\n` 사이에 위치한 문자열
- **잘못된 입력**
    - 잘못된 값이 입력된 경우 `IllegalArgumentException` 발생 후 애플리케이션 종료 
    <br>

## ⭕ 입출력 요구사항

### **입력**

- 구분자와 양수로 구성된 문자열
- `camp.nextstep.edu.missionutils.Console.readLine()` 를 통해 입력 받음

### **출력**

- 결과 반환
    
    ```
    덧셈할 문자열을 입력해 주세요.
    1,2:3
    결과 : 6
    ```
    

## ⭕ 프로그램 구조 요구사항

**`Application`**

- main 함수
    - 사용자에게 input 받기
    - InputValidator로 입력값 조사
    - StringAddCalculator로 계산한 값 받아서 println
    
<br>

**`StringAddCaculator`**

- InputValidator로 적절하지 않은 문자열은 모두 오류로 반환 후 적절한 input만 들어왔다 가정
    
    **인터페이스**: `Calculator`
    
    - `calculate(String input)` 메서드를 구현하여 입력값에 따라 계산을 수행.

1. **`calculate` 메서드**
    1. 아무것도 입력되지 않은 경우 0 반환
    2. 커스텀 구분자가 있는 경우 `sumWithCustomSeparator` 메서드 실행
    3. 기본 구분자인 경우 `sumWithBasicSeparator` 메서드 실행
2.  **`sumWithCustomSeparator` 메서드** 
    1. //와 \n 사이에 있는 커스텀 구분자 추출
    2. 커스텀 구분자가 메타문자인 경우 이스케이프하여 사용
    3. 해당 커스텀 구분자로 문자열을 split 한 후 구분자 사이에 있는 숫자들 sum 진행
3.  **`sumWithBasicSeparator` 메서드** 
    1. "," 와 ":" 를 구분자로 문자열 split 후 남은 숫자들 sum 진행
4. **`sum` 메서드**
    1. splitString 배열 속 숫자들 합산
    <br><br>

**`InputValidator`**

- **인터페이스**: `Validator`
    - `validate(String input)` 메서드를 구현하여 입력값의 유효성을 검증.
- **`validate` 메서드**
    - 입력값을 검증하여 적절하지 않은 경우 `IllegalArgumentException` 예외를 발생시킴.
    - 입력이 숫자 또는 "//"로 시작하지 않을 경우 예외 발생.
    - 기본 구분자를 사용하는 경우와 커스텀 구분자를 사용하는 경우에 따라 각각 검증 로직을 처리.

**A. 기본 구분자 사용 시 발생 가능한 예외**

1. 음수 포함 시 예외 발생.
2. 기본 구분자가 아닌 문자가 포함된 경우 예외 발생.
3. 연속 구분자 사용 시 예외 발생.

**B. 커스텀 구분자 사용 시 발생 가능한 예외**

1. "//(구분자)\n" 형식인지 확인하여 형식이 올바르지 않으면 예외 발생.
2. +) 커스텀 구분자가 메타문자인 경우 이스케이프하여 사용
3. 음수 포함 시 예외 발생.
4. 기본 구분자가 아닌 문자가 포함된 경우 예외 발생.
5. 연속 구분자 사용 시 예외 발생.
<br>

**`StringUtil`**
- 주어진 구분자에서 메타 문자를 찾아 이스케이프
- 메타 문자가 있는 경우, 해당 문자를 정규 표현식에서 사용할 수 있도록 `\\`를 추가하여 반환
<br>

**`Calculator` 인터페이스**

- 계산기 클래스에서 구현해야 할 메서드를 정의.
- `calculate(String input)` 메서드는 입력값을 받아 계산 결과를 반환.
<br>

**`Validator` 인터페이스**

- 입력 검증 클래스에서 구현해야 할 메서드를 정의.
- `validate(String input)` 메서드는 입력값을 검증하여 유효성을 판단하고, 유효하지 않을 경우 예외를 발생.
